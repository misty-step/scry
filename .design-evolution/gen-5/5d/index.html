<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>5d — Stat Cards + GitHub-Style Heatmap (polished)</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:hsl(221.2,83.2%,53.3%);--fg:hsl(0,0%,3.9%);--muted:hsl(215.4,16.3%,46.9%);--border:hsl(214.3,31.8%,91.4%);--bg:#fff;--mono:'IBM Plex Mono',monospace;--serif:'Lora',Georgia,serif;--sans:system-ui,-apple-system,sans-serif}
body{font-family:var(--sans);background:var(--bg);color:var(--fg);min-height:100dvh;display:flex;flex-direction:column}
nav{height:64px;border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 2rem}
nav .logo{font-size:1.25rem;font-weight:600;letter-spacing:-0.025em}
main{flex:1;display:grid;grid-template-columns:2fr 1fr}
.panel-content{display:flex;flex-direction:column;justify-content:center;padding:4rem 5rem}
.top-rule{width:4rem;height:2px;background:var(--primary);margin-bottom:2rem}
h1{font-family:var(--serif);font-size:3.25rem;line-height:1.05;letter-spacing:-0.025em;margin-bottom:1rem}
.subtitle{font-family:var(--serif);font-size:1.0625rem;line-height:1.7;color:var(--muted);margin-bottom:2.5rem;max-width:32ch}
.cta{display:inline-flex;align-items:center;gap:0.75rem;background:var(--primary);color:#fff;padding:0.875rem 2rem;font-size:0.9375rem;font-weight:500;border:none;cursor:pointer;font-family:var(--sans);width:fit-content}
.cta:hover{opacity:0.9}
.cta svg{width:18px;height:18px}

/* === Right stats panel === */
.panel-stats{background:var(--primary);color:#fff;display:flex;flex-direction:column;justify-content:center;padding:2.5rem 2rem;position:relative;overflow:hidden}
.panel-stats::before{content:'';position:absolute;inset:0;background-image:radial-gradient(rgba(255,255,255,0.05) 1px,transparent 1px);background-size:14px 14px;pointer-events:none}

/* Hero number */
.hero-row{display:flex;align-items:baseline;gap:0.625rem;margin-bottom:1.5rem;position:relative}
.hero-number{font-size:4.5rem;font-weight:700;line-height:0.9;font-variant-numeric:tabular-nums}
.hero-label{font-family:var(--mono);font-size:0.625rem;text-transform:uppercase;letter-spacing:0.08em;opacity:0.7}

/* Stat cards — slightly bigger than before */
.stat-cards{display:flex;flex-direction:column;gap:0.375rem;margin-bottom:1.25rem;position:relative}
.scard{background:rgba(255,255,255,0.06);padding:0.625rem 0.875rem;display:flex;align-items:center;gap:0.625rem}
.scard svg{width:15px;height:15px;opacity:0.35;flex-shrink:0}
.scard .label{font-family:var(--mono);font-size:0.5rem;text-transform:uppercase;letter-spacing:0.06em;opacity:0.5;flex:1}
.scard .val{font-family:var(--mono);font-size:0.875rem;font-weight:600;font-variant-numeric:tabular-nums}

/* === GitHub-style heatmap === */
.heatmap{position:relative;padding-top:0.75rem;border-top:1px solid rgba(255,255,255,0.12)}
.hm-header{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:0.5rem}
.hm-label{font-family:var(--mono);font-size:0.5625rem;text-transform:uppercase;letter-spacing:0.06em;opacity:0.6}
.hm-streak{font-family:var(--mono);font-size:0.6875rem;font-weight:500}

/* Transposed grid: 7 rows (days) × N cols (weeks), auto-flow column */
.hm-wrap{display:flex;gap:6px}
.hm-labels{display:grid;grid-template-rows:repeat(7,1fr);gap:2px;flex-shrink:0}
.hm-labels span{font-family:var(--mono);font-size:0.5rem;line-height:1;opacity:0.4;text-transform:uppercase;white-space:nowrap;display:flex;align-items:center}
.hm-grid{flex:1;display:grid;grid-template-rows:repeat(7,1fr);grid-auto-flow:column;grid-auto-columns:1fr;gap:2px}
.hc{aspect-ratio:1;border-radius:2px;background:rgba(255,255,255,0.06);cursor:default;position:relative}
.hc.a{background:rgba(255,255,255,0.14)}
.hc.b{background:rgba(255,255,255,0.26)}
.hc.c{background:rgba(255,255,255,0.42)}
.hc.d{background:rgba(255,255,255,0.65)}
.hc.now{background:#fff;box-shadow:0 0 4px rgba(255,255,255,0.4)}
.hc[data-tip]:hover::after{content:attr(data-tip);position:absolute;top:calc(100% + 5px);left:50%;transform:translateX(-50%);background:hsl(221.2,83.2%,22%);color:#fff;font-family:var(--mono);font-size:0.5625rem;padding:3px 8px;border-radius:3px;white-space:nowrap;z-index:10;pointer-events:none}

/* Legend */
.hm-footer{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.legend{display:flex;align-items:center;gap:4px}
.legend span{font-family:var(--mono);font-size:0.5625rem;opacity:0.45}
.lc{width:11px;height:11px;border-radius:2px}
</style>
</head>
<body>
<nav><span class="logo">Scry.</span></nav>
<main>
  <div class="panel-content">
    <div class="top-rule"></div>
    <h1>Review</h1>
    <p class="subtitle">Your deck has been building overnight. Pick up where you left off.</p>
    <button class="cta">Begin Session <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></button>
  </div>
  <div class="panel-stats">
    <div class="hero-row">
      <span class="hero-number">149</span>
      <span class="hero-label">Cards Due</span>
    </div>
    <div class="stat-cards">
      <div class="scard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"/></svg>
        <span class="label">Concepts</span>
        <span class="val">203</span>
      </div>
      <div class="scard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"/></svg>
        <span class="label">Phrasings</span>
        <span class="val">312</span>
      </div>
      <div class="scard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"/></svg>
        <span class="label">Mastery</span>
        <span class="val">84%</span>
      </div>
    </div>
    <div class="heatmap">
      <div class="hm-header">
        <span class="hm-label">Activity</span>
        <span class="hm-streak">7d streak</span>
      </div>
      <div class="hm-wrap">
        <div class="hm-labels">
          <span>Mon</span><span></span><span>Wed</span><span></span><span>Fri</span><span></span><span></span>
        </div>
        <div class="hm-grid" id="hm"></div>
      </div>
      <div class="hm-footer">
        <span style="font-family:var(--mono);font-size:0.5rem;opacity:0.35">28 weeks</span>
        <div class="legend">
          <span>Less</span>
          <div class="lc" style="background:rgba(255,255,255,0.06)"></div>
          <div class="lc" style="background:rgba(255,255,255,0.14)"></div>
          <div class="lc" style="background:rgba(255,255,255,0.26)"></div>
          <div class="lc" style="background:rgba(255,255,255,0.42)"></div>
          <div class="lc" style="background:rgba(255,255,255,0.65)"></div>
          <span>More</span>
        </div>
      </div>
    </div>
  </div>
</main>
<script>
// Generate GitHub-style contribution heatmap
// 7 rows (Mon-Sun) × 28 cols (weeks), grid-auto-flow: column
const grid = document.getElementById('hm');
const WEEKS = 28;
const days = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];
const levels = ['','a','b','c','d'];
// Seeded pseudo-random for consistent renders
let seed = 42;
function rand() { seed = (seed * 16807 + 0) % 2147483647; return seed / 2147483647; }

for (let w = 0; w < WEEKS; w++) {
  for (let d = 0; d < 7; d++) {
    const cell = document.createElement('div');
    cell.className = 'hc';
    const progress = w / WEEKS; // 0→1, more recent = more active
    const isWeekend = d >= 5;
    const r = rand();
    let lvl = 0;
    // Ramp up activity over time, weekends less active
    const weekendPenalty = isWeekend ? 0.6 : 1;
    const threshold = progress * weekendPenalty;
    if (r < threshold * 0.7) lvl = 1;
    if (r < threshold * 0.5) lvl = 2;
    if (r < threshold * 0.3) lvl = 3;
    if (r < threshold * 0.15) lvl = 4;
    if (levels[lvl]) cell.classList.add(levels[lvl]);
    // Mark today
    if (w === WEEKS - 1 && d === 3) { // Thursday
      cell.className = 'hc now';
      cell.setAttribute('data-tip', 'Today');
    } else {
      const counts = [0, 6, 16, 30, 42];
      const jitter = Math.round((rand() - 0.5) * 6);
      const count = Math.max(0, counts[lvl] + jitter);
      cell.setAttribute('data-tip', days[d] + ' · ' + count + (count === 1 ? ' card' : ' cards'));
    }
    grid.appendChild(cell);
  }
}
</script>
</body>
</html>
